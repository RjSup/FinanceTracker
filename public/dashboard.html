<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/vite.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
        />
        <link rel="stylesheet" href="../src/style.css" />
        <title>Dashboard</title>
    </head>
    <body>
        <div id="mainDash">
            <div id="navbar">
                <span id="navbrand">Ledgerly</span>
                <a class="active" href="/" id="home">
                    <i class="fa fa-fw fa-home"></i> Home
                </a>
                <a href="#" id="login">
                    <i class="fa fa-fw fa-user"></i> Login
                </a>
                <a href="#" id="signup">
                    <i class="fa fa-fw fa-user"></i> SignUp
                </a>
            </div>

            <!-- NEW: Dashboard Container -->
            <div class="dashboard-container">
                <!-- Sidebar -->
                <aside class="sidebar">
                    <nav class="sidebar-nav">
                        <button class="nav-button active" data-view="main">
                            <i class="fa fa-fw fa-dashboard"></i>
                            Main Dashboard
                        </button>
                        <button class="nav-button" data-view="history">
                            <i class="fa fa-fw fa-history"></i>
                            History
                        </button>
                        <button class="nav-button" data-view="add-expense">
                            <i class="fa fa-fw fa-plus"></i>
                            Add Expense
                        </button>
                        <button class="nav-button" data-view="settings">
                            <i class="fa fa-fw fa-cog"></i>
                            Settings
                        </button>
                    </nav>
                </aside>

                <!-- Main Content Area -->
                <main class="content">
                    <!-- WELCOME MESSAGE -->
                    <h1 id="user"></h1>

                    <!-- Main Dashboard View -->
                    <section id="main-view" class="view active">
                        <h2>Main Dashboard</h2>

                        <!-- Summary Cards -->
                        <div class="summary-cards">
                            <div class="summary-card">
                                <h3>Monthly Budget</h3>
                                <p class="card-value" id="budget-amount">
                                    £0.00
                                </p>
                            </div>
                            <div class="summary-card">
                                <h3>Total Spent</h3>
                                <p class="card-value" id="spent-amount">
                                    £0.00
                                </p>
                            </div>
                            <div class="summary-card">
                                <h3>Remaining</h3>
                                <p class="card-value" id="remaining-amount">
                                    £0.00
                                </p>
                            </div>
                        </div>

                        <!-- Recent Expenses -->
                        <div class="recent-expenses">
                            <h3>Recent Expenses</h3>
                            <div id="recent-expenses-list">
                                <!-- Expenses will be loaded here -->
                            </div>
                        </div>
                    </section>

                    <!-- History View -->
                    <section id="history-view" class="view">
                        <h2>Expense History</h2>

                        <div class="filters">
                            <select id="month-filter">
                                <option value="all">All Months</option>
                                <option value="current">This Month</option>
                                <option value="last">Last Month</option>
                            </select>
                            <select id="category-filter">
                                <option value="all">All Categories</option>
                                <option value="food">Food</option>
                                <option value="transport">Transport</option>
                                <option value="entertainment">
                                    Entertainment
                                </option>
                                <option value="bills">Bills</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div id="history-expenses-list">
                            <!-- All expenses will be loaded here -->
                        </div>
                    </section>

                    <!-- Add Expense View -->
                    <section id="add-expense-view" class="view">
                        <h2>Add New Expense</h2>

                        <form id="add-expense-form">
                            <div class="form-group">
                                <label for="expense-amount">Amount (£)</label>
                                <input
                                    type="number"
                                    id="expense-amount"
                                    name="amount"
                                    step="0.01"
                                    min="0.01"
                                    required
                                    placeholder="0.00"
                                />
                            </div>

                            <div class="form-group">
                                <label for="expense-category">Category</label>
                                <select
                                    id="expense-category"
                                    name="category"
                                    required
                                >
                                    <option value="">Select category...</option>
                                    <option value="housing">Housing</option>
                                    <option value="utilities">Utilities</option>
                                    <option value="food">Food</option>
                                    <option value="transport">Transport</option>
                                    <option value="debt">Debt</option>
                                    <option value="entertainment">
                                        Entertainment
                                    </option>
                                    <option value="other">Other</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="expense-description"
                                    >Description</label
                                >
                                <input
                                    type="text"
                                    id="expense-description"
                                    name="description"
                                    placeholder="e.g., Grocery shopping"
                                />
                            </div>

                            <div class="form-group">
                                <label for="expense-date">Date</label>
                                <input
                                    type="date"
                                    id="expense-date"
                                    name="date"
                                    required
                                />
                            </div>

                            <button type="submit" class="btn-primary">
                                Add Expense
                            </button>
                        </form>

                        <div id="form-message"></div>
                    </section>

                    <!-- Settings View -->
                    <section id="settings-view" class="view">
                        <h2>Settings</h2>

                        <div class="settings-section">
                            <h3>Monthly Budget</h3>
                            <form id="budget-form">
                                <div class="form-group">
                                    <label for="budget-input"
                                        >Set Monthly Budget (£)</label
                                    >
                                    <input
                                        type="number"
                                        id="budget-input"
                                        name="budget"
                                        step="0.01"
                                        min="0"
                                        placeholder="1000.00"
                                    />
                                    <p id="errors"></p>
                                </div>
                                <button type="submit" class="btn-primary">
                                    Save Budget
                                </button>
                            </form>
                        </div>

                        <div class="settings-section">
                            <h3>Categories</h3>
                            <p>Manage your expense categories (Coming soon)</p>
                        </div>

                        <div class="settings-section">
                            <h3>Data</h3>
                            <button class="btn-secondary" id="export-data">
                                Export Data (CSV)
                            </button>
                            <button class="btn-danger" id="clear-data">
                                Clear All Data
                            </button>
                        </div>
                    </section>
                </main>
            </div>
        </div>
        <script type="module" src="/src/dashboard.js"></script>
    </body>
</html>
